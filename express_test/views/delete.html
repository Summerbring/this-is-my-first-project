
<!DOCTYPE html>
<html>
<head lang="en">
    <link rel="stylesheet" href="stylesheets/webix.css" type="text/css">
    <script src="javascripts/webix_debug.js" type="text/javascript"></script>
    <meta charset="UTF-8">
    <title>webix09</title>
    <!--<style>
        #areaA, #areaB {
            margin: 50px 10px;
            width: 320px;
            height: 400px;
            float: left;
        }
        .webix_layout_space {
            background-color: #fff;
        }
    </style>-->
</head>
<body>
<div id='form-container'></div>
<script type="text/javascript" charset="UTF-8">

//    webix.ui({
//     width:1000,
//     rows: [
//         { view:"toolbar", elements:[
//             { view:"button", value:"Add",    width:100},
//             { view:"button", value:"Delete", width:100 }
//         ]},
//         { height:120, cols:[
//             {view:"form", elements:[
//                 { view:"text", placeholder:"Title"},
//                 { view:"text", placeholder:"Year"}
//             ]},
//             {view:"list",
//                 template:"#title# - #year#", // which data to show
//                 select:true, //enables selection
//                 height:400,
//                 data: [
//                     { id:1, title:"The Shawshank Redemption", year:1994},
//                     { id:2, title:"The Godfather", year:1972},
//                     { id:3, title:"The Godfather: Part II", year:1974},
//                     { id:4, title:"The Good, the Bad and the Ugly", year:1966},
//                     { id:5, title:"My Fair Lady", year:1964},
//                     { id:6, title:"12 Angry Men", year:1957}
//                 ]
//             }
//         ]}
//     ]
// });
// webix.ajax().post.("")

var list = {
	view:"list", id:"mylist",
	autoheight:true, select:true,
	template:"#name# &lt;#password#&gt;",
	// ready:function(){
	// 	this.select(this.getFirstId());
	// },
	// on:{
	// 	onAfterSelect:function(id){
	// 		$$("myform").load("/form/data/"+id);
	// 	}
	// },
	url:"/delete.html"
};

var form = {
	view:"form", id:"myform",
	rows:[
		{ view:"text", name:"name", label:"Name" },
		{ view:"text", name:"password", label:"Password" },
//		{ view:"richselect", name:"group_id", label:"Group", options:"/form/options" },
		{ view:"button", value:"Save", click:function(){
			var data0 = this.getFormView().getValues();
			//send data to server
//			webix.ajax().post("/form/data0", data0).then(() => webix.message("Saved."));
			//update related client-side UI
			$$("mylist").updateItem( data);
		}}
		// { view:"button", value : "Delete",click:function(){
		// 	webix.ajax().post("/form/data1", data1).then(() => webix.message("Saved."));
		// 	//update related client-side UI
		// 	$$("mylist").updateItem(data.id, data);
		// }}
	]
};

var form = webix.ui({
	width:640, type:"space",
	container:"form-container",
	cols:[ list, form ]
});

$$("myform").elements.name.focus();

</script>
</body>
</html>